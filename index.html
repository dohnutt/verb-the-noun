<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">

    <title>Verb the Noun: Pierre Poilievre's slogan generator</title>
    <meta name="description" content="Axe the budget, build the tax, stop the homes. A slogan generator for Pierre Poilievre's campaign team.">
    <link rel="canonical" href="https://verbthenoun.netlify.app">

    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Verb the Noun: Pierre Poilievre's slogan generator">
    <meta property="og:description" content="Axe the budget, build the tax, stop the homes. A slogan generator for Pierre Poilievre's campaign team.">
    <meta property="og:image" content="https://verbthenoun.netlify.app/assets/share-image.png">
    <meta property="og:url" content="https://verbthenoun.netlify.app">
    <meta property="og:site_name" content="Verb the Noun">
    <meta name="twitter:card" content="summary">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css" type="text/css" media="all">

    <link rel="icon" type="image/png" href="./assets/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="./assets/favicon.svg" />
    <link rel="shortcut icon" href="./assets/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Verb the Noun" />
    <link rel="manifest" href="./assets/site.webmanifest" />
</head>
<body>
    <main>
        <div>
            Pierre Poilievre's <a href="#official">official<span class="red">*</span></a> slogan generator
            <img src="./assets/favicon-96x96.png" width="60" height="60" alt="Pierre Poilievre as a floating smiling head" class="pp">
        </div>

        <figure>
            <img src="./assets/pee-air.jpg" alt="Pierre Poilievre standing at a podium" width="1280" height="720">
            <div class="sign">
                <h1>
                    <span class="verb" data-orig="Verb">Verb</span>
                    <small class="article" data-orig="the">the</small>
                    <span class="noun" data-orig="noun">noun</span>
                </h1>
                <h2>
                    <span class="verbe" data-orig="Verbe">Verbe</span>
                    <small class="article-fr" data-orig="le">le</small>
                    <span class="nom" data-orig="nom">nom</span>
                </h2>
            </div>
        </figure>

        <button type="button" id="verb-it">Verb the noun!</button>
        
        <details>
            <summary><h4 style="display: inline">Verb the settings</h4></summary>

            <form action="/" method="POST">
                <label>
                    <input type="checkbox" name="funny" />
                    Even dumber
                </label>

                <label>
                    <input type="checkbox" name="freetext" />
                    Free reign (type as you please)
                </label>

                <label>
                    <input type="checkbox" name="baby" />
                    Pease Mistew Cawney
                </label>
            </form>
        </details>
	</main>

    <footer>
        Paid for by the <a href="https://github.com/dohnutt/verb-the-noun"><img src="./assets/flag.png" alt="Canada flag" width="25" height="16" class="flag">Gubbermint of Canada</a>

        <hr />

        <small id="official"><span class="red">*</span> not official</small>
    </footer>

    <script type="text/javascript">
    const en = {
        verbs: ['Axe', 'Stop', 'Build', 'Fix', 'F*ck', 'Defund', 'Secure', 'End'],
        nouns: ['tax', 'crime', 'homes', 'budget', 'drugs', 'Trudeau', 'CBC', 'border', 'slogans', 'woke agenda', 'Carney'],
        articles: ['the', 'the', 'the']
    };
    const fr = {
        verbs: ['Abolir', 'Arrêtons', 'Construire', 'Réparer', 'Foutre', 'Définancer', 'Sécuriser', 'Mettre fin'],
        nouns: ['taxe', 'crime', 'maisons', 'budget', 'drogues', 'Trudeau', 'Radio-Canada', 'frontière', 'slogans', 'agenda woke', 'Carney'],
        articles: ['le', 'la', 'les']
    };

    const origEn = Object.assign({},en);
    const origFr = Object.assign({},fr);
    let currentEn = Object.assign({},en);
    let currentFr = Object.assign({},fr);
    
    const enVerbEl = document.querySelector('.verb');
    const enNounEl = document.querySelector('.noun');
    const frVerbEl = document.querySelector('.verbe');
    const frNounEl = document.querySelector('.nom');
    const enArticleEl = document.querySelector('.article');
    const frArticleEl = document.querySelector('.article-fr');

    const checkboxFunny = document.querySelector('input[name="funny"]');
    const checkboxFreetext = document.querySelector('input[name="freetext"]');
    const checkboxBaby = document.querySelector('input[name="baby"]');
    const button = document.getElementById('verb-it');

    checkboxFunny.addEventListener('change', e => {
        toggleFunnyWords(e.target.checked);

        if (!e.target.checked) {
            en.articles = origEn.articles;
            en.verbs = origEn.verbs;
            en.nouns = origEn.nouns;
            fr.articles = origFr.articles;
            fr.verbs = origFr.verbs;
            fr.nouns = origFr.nouns;
        }
    });

    checkboxFreetext.addEventListener('change', e => {
        if (e.target.checked) {
            enVerbEl.setAttribute('contenteditable', true);
            enNounEl.setAttribute('contenteditable', true);
            enArticleEl.setAttribute('contenteditable', true);

            frVerbEl.setAttribute('contenteditable', true);
            frNounEl.setAttribute('contenteditable', true);
            frArticleEl.setAttribute('contenteditable', true);
        } else {
            enVerbEl.removeAttribute('contenteditable');
            enNounEl.removeAttribute('contenteditable');
            enArticleEl.removeAttribute('contenteditable');

            frVerbEl.removeAttribute('contenteditable');
            frNounEl.removeAttribute('contenteditable');
            frArticleEl.removeAttribute('contenteditable');
        }
    });

    checkboxBaby.addEventListener('change', e => {
        toggleBabyTalk(e.target.checked);

        if (!e.target.checked) {
            en.articles = origEn.articles;
            en.verbs = origEn.verbs;
            en.nouns = origEn.nouns;
            fr.articles = origFr.articles;
            fr.verbs = origFr.verbs;
            fr.nouns = origFr.nouns;
            
            enVerbEl.textContent = enVerbEl.getAttribute('data-orig');
            enNounEl.textContent = enNounEl.getAttribute('data-orig');
            enArticleEl.textContent = enArticleEl.getAttribute('data-orig');
            
            frVerbEl.textContent = frVerbEl.getAttribute('data-orig');
            frNounEl.textContent = frNounEl.getAttribute('data-orig');
            frArticleEl.textContent = frArticleEl.getAttribute('data-orig');
        }
    });

    button.addEventListener('click', verbTheNoun)

    function toggleFunnyWords(bool) {
        if (bool) {
            en.verbs = en.verbs.concat(['Pull', 'Bend', 'Polish', 'F*ck', 'Privatize', 'Tax', 'Touch', 'Poop']);
            en.nouns = en.nouns.concat(['finger', 'shaft', 'balls', 'knee', 'knob', 'Libs', 'election', 'planet', 'healthcare', 'Carney', 'Justin', 'PP', 'pants']);
            fr.verbs = fr.verbs.concat(['Tirer', 'Plier', 'Polir', 'Baiser', 'Privatiser', 'Taxer', 'Toucher', 'Chier']);
            fr.nouns = fr.nouns.concat(['doigt', 'axe', 'couilles', 'genou', 'bouton', 'Libs', 'élection', 'planète', 'santé', 'Carney', 'Justin', 'PP', 'pantalon']);
        }
    }

    function toggleBabyTalk(bool) {
        if (bool) {
            document.querySelector('figure img').src = './assets/pee-air-pwease.jpg';
            en.articles = ['da', 'da'];
            en.verbs = en.verbs.map(verb => babyfy(verb));
            en.nouns = en.nouns.map(noun => babyfy(noun));
            fr.articles = ['da', 'de'];
            fr.verbs = fr.verbs.map(verb => babyfy(verb));
            fr.nouns = fr.nouns.map(noun => babyfy(noun));

            enVerbEl.textContent = babyfy(enVerbEl.textContent);
            enNounEl.textContent = babyfy(enNounEl.textContent);
            enArticleEl.textContent = 'da';
            frVerbEl.textContent = babyfy(frVerbEl.textContent);
            frNounEl.textContent = babyfy(frNounEl.textContent);
            frArticleEl.textContent = 'da'
        } else {
            document.querySelector('figure img').src = './assets/pee-air.jpg';
        }
    }

    function babyfy(str) {
        return str
            .replace(/l/ig, 'w')
            .replace(/r/ig, 'w')
            .replace(/th/ig, 'f')
            .replace(/sh/ig, 'ss')
            .replace(/Poop/i, 'Poo poo')
            .replace(/F\*ck/i, 'Fwick')
    }

    function verbTheNoun() {
        toggleFunnyWords(checkboxFunny.checked);
        toggleBabyTalk(checkboxBaby.checked);
        
        let verb = Math.floor(Math.random() * en.verbs.length);
        let noun = Math.floor(Math.random() * en.nouns.length);
        let article = Math.floor(Math.random() * fr.articles.length);

        enVerbEl.textContent = en.verbs[verb];
        enVerbEl.setAttribute('data-orig', en.verbs[verb]);
        enNounEl.textContent = en.nouns[noun];
        enNounEl.setAttribute('data-orig', en.nouns[noun]);
        enArticleEl.textContent = en.articles[article];
        enArticleEl.setAttribute('data-orig', en.articles[article]);

        frVerbEl.textContent = fr.verbs[verb];
        frVerbEl.setAttribute('data-orig', fr.verbs[verb]);
        frNounEl.textContent = fr.nouns[noun];
        frNounEl.setAttribute('data-orig', fr.nouns[noun]);
        frArticleEl.textContent = fr.articles[article];
        frArticleEl.setAttribute('data-orig', fr.articles[article]);
    }

    verbTheNoun();
    </script>
</body>
</html>